(()=>{"use strict";const t=document.getElementById("table-of-contents"),e=[...document.querySelectorAll("main h2")];if(!(t&&document.body.classList.contains("post")&&e.length))return;t.innerHTML=`<div id="toc-content"><h2>Spis treści</h2><ol><li><a href="#">Początek</a></li>${[...document.querySelectorAll("main h2")].map((t=>`<li><a href="#${t.id}">${t.innerHTML}</a></li>`)).join("")}</ol></div><button id="toc-btn" aria-expanded="false" aria-controls="toc-content" title="Spis treści"><svg fill="currentColor" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"><path d="M72.01074,170.625,55.99219,192H68a8,8,0,0,1,0,16H40a8.00013,8.00013,0,0,1-6.40186-12.79785l25.46729-33.9834A6.00232,6.00232,0,1,0,48.46826,155.667a8,8,0,1,1-14.73633-6.23242,22.00229,22.00229,0,1,1,38.50635,20.87109Q72.12842,170.46826,72.01074,170.625ZM43.57764,67.15527,48,64.94434v43.0498a8,8,0,1,0,16,0V52a7.99928,7.99928,0,0,0-11.57764-7.15527l-16,8a7.99984,7.99984,0,1,0,7.15528,14.31054ZM104,72H215.999a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16ZM215.999,184h-112a8,8,0,1,0,0,16h112a8,8,0,0,0,0-16Zm0-64H104a8,8,0,0,0,0,16H215.999a8,8,0,0,0,0-16Z"/></svg> \x3c!-- icon by svgrepo.com/author/phosphor --\x3e</button>`,document.querySelector("main").insertBefore(t,document.querySelector("main p:first-of-type"));const n=document.getElementById("toc-btn"),o=t.classList.contains("open");n.addEventListener("click",(()=>{t.classList.toggle("open"),n.setAttribute("aria-expanded",String(!o))})),document.addEventListener("click",(e=>{e.target.closest("#table-of-contents")||t.classList.remove("open")}))})();